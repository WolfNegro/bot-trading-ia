# requirements:
# pip install youtube-transcript-api

from youtube_transcript_api import YouTubeTranscriptApi

def download_transcript(video_id):
    try:
        transcript = YouTubeTranscriptApi.get_transcript(video_id, languages=['es','en'])
        # transcript es una lista de dicts con 'text' y 'start'
        full_text = " ".join([t['text'] for t in transcript])
        return full_text
    except Exception as e:
        print(f"Error al descargar transcripción: {e}")
        return None

if __name__ == "__main__":
    video_id = "TU_VIDEO_ID_AQUI"
    texto = download_transcript(video_id)
    if texto:
        with open(f"{video_id}.txt", "w", encoding="utf-8") as f:
            f.write(texto)
        print("Transcripción guardada.")
